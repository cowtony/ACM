var G=baidu.G;(function(){this.FX=function(f,e,g,h,j,d){this.el=a.get(f);this.attributes=e;this.duration=g||0.7;this.transition=(!!h&&h in FX.transitions)?h:"easeInOut";this.callback=j||function(){};this.ctx=d||window;this.units={};this.frame={};this.endAttr={};this.startAttr={}};this.FX.transitions={linear:function(f,e,h,g){return h*f/g+e},easeIn:function(f,e,h,g){return -h*Math.cos(f/g*(Math.PI/2))+h+e},easeOut:function(f,e,h,g){return h*Math.sin(f/g*(Math.PI/2))+e},easeInOut:function(f,e,h,g){return -h/2*(Math.cos(Math.PI*f/g)-1)+e}};this.FX.prototype={start:function(){var d=this;this.getAttributes();this.duration=this.duration*1000;this.time=new Date().getTime();this.animating=true;this.timer=setInterval(function(){var e=new Date().getTime();if(e<(d.time+d.duration)){d.elapsed=e-d.time;d.setCurrentFrame()}else{d.frame=d.endAttr;d.complete()}d.setAttributes()},10)},ease:function(e,d){return FX.transitions[this.transition](this.elapsed,e,d-e,this.duration)},complete:function(){clearInterval(this.timer);this.timer=null;this.animating=false;this.callback.call(this.ctx)},setCurrentFrame:function(){for(attr in this.startAttr){if(this.startAttr[attr] instanceof Array){this.frame[attr]=[];for(var d=0;d<this.startAttr[attr].length;d++){this.frame[attr][d]=this.ease(this.startAttr[attr][d],this.endAttr[attr][d])}}else{this.frame[attr]=this.ease(this.startAttr[attr],this.endAttr[attr])}}},getAttributes:function(){for(var d in this.attributes){switch(d){case"color":case"borderColor":case"border-color":case"backgroundColor":case"background-color":this.startAttr[d]=b(this.attributes[d].from||a.getStyle(this.el,d));this.endAttr[d]=b(this.attributes[d].to);break;case"scrollTop":case"scrollLeft":var g=(this.el==document.body)?(document.documentElement||document.body):this.el;this.startAttr[d]=this.attributes[d].from||g[d];this.endAttr[d]=this.attributes[d].to;break;default:var h;var e=this.attributes[d].to;var f=this.attributes[d].units||"px";if(!!this.attributes[d].from){h=this.attributes[d].from}else{h=parseFloat(a.getStyle(this.el,d))||0;if(f!="px"&&document.defaultView){a.setStyle(this.el,d,(e||1)+f);h=((e||1)/parseFloat(a.getStyle(this.el,d)))*h;a.setStyle(this.el,d,h+f)}}this.units[d]=f;this.endAttr[d]=e;this.startAttr[d]=h;break}}},setAttributes:function(){for(var d in this.frame){switch(d){case"opacity":a.setStyle(this.el,d,this.frame[d]);break;case"scrollLeft":case"scrollTop":var f=(this.el==document.body)?(document.documentElement||document.body):this.el;f[d]=this.frame[d];break;case"color":case"borderColor":case"border-color":case"backgroundColor":case"background-color":var e="rgb("+Math.floor(this.frame[d][0])+","+Math.floor(this.frame[d][1])+","+Math.floor(this.frame[d][2])+")";a.setStyle(this.el,d,e);break;default:a.setStyle(this.el,d,this.frame[d]+this.units[d]);break}}}};var a={get:function(d){return(typeof d=="string")?document.getElementById(d):d},getStyle:function(f,g){g=c(g);var d=document.defaultView;if(d&&d.getComputedStyle){return d.getComputedStyle(f,"")[g]||null}else{if(g=="opacity"){var e=f.filters("alpha").opacity;return isNaN(e)?1:(e?e/100:0)}return f.currentStyle[g]||null}},setStyle:function(d,f,e){if(f=="opacity"){d.style.filter="alpha(opacity="+e*100+")";d.style.opacity=e}else{f=c(f);d.style[f]=e}}};var c=(function(){var d={};return function(j){if(!d[j]){var h=j.split("-"),g=h[0];if(h.length>1){for(var f=1,e=h.length;f<e;f++){g+=h[f].charAt(0).toUpperCase()+h[f].substring(1)}}return d[j]=g}else{return d[j]}}})();var b=(function(){var f=(/^#?(\w{2})(\w{2})(\w{2})$/);var d=(/^#?(\w{1})(\w{1})(\w{1})$/);var e=(/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/);return function(h){var g=h.match(f);if(g&&g.length==4){return[parseInt(g[1],16),parseInt(g[2],16),parseInt(g[3],16)]}g=h.match(e);if(g&&g.length==4){return[parseInt(g[1],10),parseInt(g[2],10),parseInt(g[3],10)]}g=h.match(d);if(g&&g.length==4){return[parseInt(g[1]+g[1],16),parseInt(g[2]+g[2],16),parseInt(g[3]+g[3],16)]}}})()})();baidu.extend(String.prototype,{byteLength:function(){return this.replace(/[^\u0000-\u007f]/g,"\u0061\u0061").length},subByte:function(e,d){if(this.byteLength()<=e){return this}for(var b=Math.floor((e=e-2)/2),a=this.length;b<a;b++){var c=this.substring(0,b);if(c.byteLength()>=e){return c+(d!=undefined?d:"...")}}return this}});if(typeof(HTMLElement)!="undefined"&&!window.opera){HTMLElement.prototype.__defineGetter__("innerText",function(){return this.textContent});HTMLElement.prototype.__defineSetter__("innerText",function(a){this.textContent=a})}baidu.extend(Function.prototype,{createCallback:function(){var a=arguments,b=this;return function(){return b.apply(window,a)}},createDelegate:function(c,b,a){var d=this;return function(){var f=b||arguments;if(a===true){f=Array.prototype.slice.call(arguments,0);f=f.concat(b)}else{if(baidu.lang.isNumber(a)){f=Array.prototype.slice.call(arguments,0);var e=[a,0].concat(b);Array.prototype.splice.apply(f,e)}}return d.apply(c||window,f)}},defer:function(c,e,b,a){var d=this.createDelegate(e,b,a);if(c>0){return setTimeout(d,c)}d();return 0}});baidu.proxy=function(c,a){var b=Array.prototype.slice.call(arguments,1);return function(){c.apply(null,b)}};baidu.more=baidu.more||{};baidu.more.ns=function(e){var f=e.split(".");var b=window;for(var d=0,a=f.length;d<a;d++){var c=f[d];if(c==""){continue}b[c]=(b[c]||{});b=b[c]}};if(!window.console||!console.firebug){var names=["log","debug","info","warn","error","assert","dir","dirxml","group","groupEnd","time","timeEnd","count","trace","profile","profileEnd"];window.console=(typeof window.loadFirebugConsole=="function")?window.loadFirebugConsole():{};for(var i=0;i<names.length;++i){window.console[names[i]]=function(){}}}function nslog(b,d,a){var c=(new Date()).getTime();var e=["http://nsclick.baidu.com/v.gif?pid="+nslog.pid,"url="+encodeURIComponent(b),"type="+d,"t="+c];for(k in a){e.push(k+"="+a[k])}for(k in nslog.log_params){e.push(k+"="+nslog.log_params[k])}nslog.req(e.join("&"))}nslog.pid=103;nslog.log_params={};nslog.set=function(a,b){nslog.log_params[a]=b};nslog.sid=((new Date()).getTime()+"_"+Math.round(Math.random()*2147483637));nslog.stat=function(a){nslog.req("/js/blank.js?func="+a+"&sid="+nslog.sid+"&t="+(new Date()).getTime())};nslog.req=function(a){var d="iknowlog_"+(new Date()).getTime();var b=window[d]=new Image();b.onload=b.onerror=function(){window[d]=null};b.src=a;b=null};function baidumessage(){if(baidu.G("mnum")){baidu.sio.callByBrowser("http://msg.baidu.com/ms?ct=18&cm=3&tn=bmSelfUsrStat&mpn=13227114&un="+baidu.G("login-user-name").innerHTML,function(){if(redmsg){redmsg=redmsg.replace(/\u6211\u7684/g,"");redmsg=redmsg.replace(/\/\d+\)/,")");if(/>0<\/span>/g.test(redmsg)||/\(0\)/g.test(redmsg)){redmsg=redmsg.replace(/\([^\)]+\)/g,"")}baidu.G("mnum").innerHTML="<span class='usrbar-split'>|</span>"+redmsg}})}}baidu.dom.ready(baidumessage);var g_pop=g_pop||function(){};if(!Array.prototype.push){Array.prototype.push=function(){var b=this.length;for(var a=0;a<arguments.length;a++){this[b+a]=arguments[a]}return this.length}}function G(){var c=new Array();for(var b=0;b<arguments.length;b++){var a=arguments[b];if(typeof a=="string"){a=document.getElementById(a)}if(arguments.length==1){return a}c.push(a)}return c}Function.prototype.bind=function(b){var a=this;return function(){a.apply(b,arguments)}};Function.prototype.bindAsEventListener=function(b){var a=this;return function(c){a.call(b,c||window.event)}};Object.extend=function(a,b){for(property in b){a[property]=b[property]}return a};if(!window.Event){var Event=new Object()}Object.extend(Event,{observers:false,element:function(a){return a.target||a.srcElement},isLeftClick:function(a){return(((a.which)&&(a.which==1))||((a.button)&&(a.button==1)))},pointerX:function(a){return a.pageX||(a.clientX+(document.documentElement.scrollLeft||document.body.scrollLeft))},pointerY:function(a){return a.pageY||(a.clientY+(document.documentElement.scrollTop||document.body.scrollTop))},stop:function(a){if(a.preventDefault){a.preventDefault();a.stopPropagation()}else{a.returnValue=false;a.cancelBubble=true}},findElement:function(c,b){var a=Event.element(c);while(a.parentNode&&(!a.tagName||(a.tagName.toUpperCase()!=b.toUpperCase()))){a=a.parentNode}return a},_observeAndCache:function(d,c,b,a){if(!this.observers){this.observers=[]}if(d.addEventListener){this.observers.push([d,c,b,a]);d.addEventListener(c,b,a)}else{if(d.attachEvent){this.observers.push([d,c,b,a]);d.attachEvent("on"+c,b)}}},unloadCache:function(){if(!Event.observers){return}for(var a=0;a<Event.observers.length;a++){Event.stopObserving.apply(this,Event.observers[a]);Event.observers[a][0]=null}Event.observers=false},observe:function(d,c,b,a){if("string"==typeof d){d=G(d)}a=a||false;if(c=="keypress"&&(navigator.appVersion.match(/Konqueror|Safari|KHTML/)||d.attachEvent)){c="keydown"}this._observeAndCache(d,c,b,a)},stopObserving:function(d,c,b,a){if("string"==typeof d){d=G(d)}a=a||false;if(c=="keypress"&&(navigator.appVersion.match(/Konqueror|Safari|KHTML/)||d.detachEvent)){c="keydown"}if(d.removeEventListener){d.removeEventListener(c,b,a)}else{if(d.detachEvent){d.detachEvent("on"+c,b)}}}});Event.observe(window,"unload",Event.unloadCache,false);var Class=function(){var a=function(){this.initialize.apply(this,arguments)};for(i=0;i<arguments.length;i++){superClass=arguments[i];for(member in superClass.prototype){a.prototype[member]=superClass.prototype[member]}}a.child=function(){return new Class(this)};a.extend=function(b){for(property in b){a.prototype[property]=b[property]}};return a};var Popup=new Class();Popup.prototype={iframeIdName:"ifr_popup",initialize:function(a){this.config=Object.extend({contentType:1,isHaveTitle:true,scrollType:"no",isBackgroundCanClick:false,isSupportDraging:true,isShowShadow:true,isReloadOnClose:true,width:400,isPop:false,height:300},a||{});this.info={shadowWidth:3,title:"",contentUrl:"",contentHtml:"",callBack:null,parameter:null,confirmCon:"",alertCon:"",someHiddenTag:"select,object,embed",someDisabledBtn:"",someHiddenEle:"",overlay:0,coverOpacity:30};this.color={cColor:"#000",bColor:"#FFFFFF",tColor:"#709CD2",wColor:"#FFFFFF"};this.dropClass=null;this.someToHidden=[];this.someToDisabled=[];if(!this.config.isHaveTitle){this.config.isSupportDraging=false}this.iniBuild()},setContent:function(a,b){if(b!=""){switch(a){case"width":this.config.width=b;break;case"height":this.config.height=b;break;case"title":this.info.title=b;break;case"contentUrl":this.info.contentUrl=b;break;case"contentHtml":this.info.contentHtml=b;break;case"callBack":this.info.callBack=b;break;case"parameter":this.info.parameter=b;break;case"confirmCon":this.info.confirmCon=b;break;case"alertCon":this.info.alertCon=b;break;case"someHiddenTag":this.info.someHiddenTag=b;break;case"someHiddenEle":this.info.someHiddenEle=b;break;case"someDisabledBtn":this.info.someDisabledBtn=b;break;case"overlay":this.info.overlay=b}}},iniBuild:function(){var a=G("dialogCase");if(a){document.body.removeChild(a)}a=document.createElement("DIV");a.id="dialogCase";a.style.zIndex=65535;a.style.top=0;a.style.left=0;a.style.position="absolute";a.style.width="100%";document.body.appendChild(a)},build:function(){var b=10001+this.info.overlay*10;var h=b+2;this.iframeIdName="ifr_popup"+this.info.overlay;var l="http://img.baidu.com/hi/img/";var j='<div id="dialogBoxClose" style="width:18px;height:18px;cursor:pointer;margin-bottom:2px;"><div>';var f="filter: alpha(opacity="+this.info.coverOpacity+");opacity:"+this.info.coverOpacity/100+";";var m='<div id="dialogBoxBG" style="position:absolute;top:0px;left:0px;z-index:'+b+";"+f+"background-color:"+this.color.cColor+';display:none;"></div>';var e='<div id="dialogBox" style="border:1px solid #104987;display:none;z-index:'+h+";position:relative;width:"+this.config.width+'px;background:url(\'http://img.baidu.com/img/baike/editor/bgs.gif\') repeat-x scroll 0 -68px #1169B1;padding:1px;"><table width="100%" border="0" cellpadding="0" cellspacing="0" style="background:url(\'http://img.baidu.com/img/baike/editor/bgs.gif\') repeat-x 0 -144px">';if(this.config.isHaveTitle){e+='<tr height="29"><td style="background:url(\'http://img.baidu.com/img/baike/editor/edithelper.gif\') no-repeat right -68px transparent;"><table style="-moz-user-select:none;height:24px;" width="100%" border="0" cellpadding="0" cellspacing="0" ><tr><td width="6" height="24"></td><td id="dialogBoxTitle" style="color:'+this.color.wColor+';font-size:14px;font-weight:bold;">'+this.info.title+'&nbsp;</td><td id="dialogClose" width="18" align="right" valign="middle">'+j+'</td><td width="9"></td></tr></table></td></tr>'}else{e+='<tr height="10"><td align="right">'+j+"</td></tr>"}e+='<tr id="container-tr" style="height:'+(this.config.height-36)+'px" valign="top"><td style="position:relative;padding:1px;"><div style="border:1px solid #FFF;"><div style="background:url(\'http://img.baidu.com/img/baike/editor/bgs.gif\') repeat-x #FFF;height:13px;line-height:13px;font-size:1px;">&nbsp;</div><div id="dialogBody" style="background-color:#FFF;height:'+(this.config.height-46)+"px;width:"+(this.config.width-4)+'px"></div></div></td></tr></table></div><div id="dialogBoxShadow" style="display:none;z-index:'+b+';"></div>';if(!this.config.isBackgroundCanClick){G("dialogCase").innerHTML=m+e;var g=document,d=g.body,c=g.documentElement,a=g.compatMode=="BackCompat"?d:g.documentElement;G("dialogBoxBG").style.height=Math.max(c.scrollHeight,d.scrollHeight,a.clientHeight)+"px";G("dialogBoxBG").style.width=window.screen.width+"px"}else{G("dialogCase").innerHTML=e}Event.observe(G("dialogBoxClose"),"click",this.reset.bindAsEventListener(this),false);if(this.config.isSupportDraging){dropClass=new Dragdrop(this.config.width,this.config.height,this.info.shadowWidth,this.config.isSupportDraging,this.config.contentType);G("dialogBoxTitle").style.cursor="move"}this.lastBuild()},lastBuild:function(){var b='<div style="width:100%;height:100%;text-align:center;"><div style="margin:0 20px 0 20px;padding-top:20px;font-size:14px;line-height:16px;color:#000000;">'+this.info.confirmCon+'</div><div style="margin:20px;"><input id="dialogOk" type="button" value="  确定  "/>&nbsp;<input id="dialogCancel" type="button" value="  取消  "/></div></div>';var e='<div style="width:100%;height:100%;text-align:center;"><div style="margin:20px 20px 0 20px;font-size:14px;line-height:16px;color:#000000;">'+this.info.alertCon+'</div><div style="margin:20px;"><input id="dialogYES" type="button" value="  确定  "/></div></div>';var a=10001+this.info.overlay*10;var d=a+4;if(this.config.contentType==1){var c="<iframe style='height:"+(this.config.height-46)+"px;width:"+(this.config.width-4)+"px;' name='"+this.iframeIdName+"' id='"+this.iframeIdName+"' src='"+this.info.contentUrl+"' frameborder='0' scrolling='"+this.config.scrollType+"'></iframe>";var f="<div id='iframeBG' style='position:absolute;top:0px;left:0px;width:1px;height:1px;z-index:"+d+";filter: alpha(opacity=00);opacity:0.00;background-color:#ffffff;'><div>";G("dialogBody").innerHTML=c+f}else{if(this.config.contentType==2){G("dialogBody").innerHTML=this.info.contentHtml}else{if(this.config.contentType==3){G("dialogBody").innerHTML=b;Event.observe(G("dialogOk"),"click",this.forCallback.bindAsEventListener(this),false);Event.observe(G("dialogCancel"),"click",this.close.bindAsEventListener(this),false)}else{if(this.config.contentType==4){G("dialogBody").innerHTML=e;Event.observe(G("dialogYES"),"click",this.close.bindAsEventListener(this),false)}}}}},reBuild:function(){G("dialogBody").height=G("dialogBody").clientHeight;this.lastBuild()},show:function(){this.hiddenSome();this.middle();if(this.config.isShowShadow){this.shadow()}},resize:function(c,f,j){this.setContent("width",c);this.setContent("height",f);var g=G("dialogBox");var e=G("dialogBody");g.style["width"]=c+"px";g.style["height"]=f+"px";var d=G(this.iframeIdName);d.style["height"]=f-46+"px";d.style["width"]=c-4+"px";e.style["height"]=f-46+"px";e.style["width"]=c-4+"px";if(j){this.setContent("title",j);var b=G("dialogBoxTitle");b.innerHTML=j+"&nbsp;"}var a=G("container-tr");a.style["height"]=f-36+"px";this.show()},forCallback:function(){return this.info.callBack(this.info.parameter)},shadow:function(){var a=G("dialogBoxShadow");var b=G("dialogBox");a.style["top"]=b.offsetTop+this.info.shadowWidth+10+"px";a.style["left"]=b.offsetLeft+this.info.shadowWidth+6+"px";a.style["width"]=b.offsetWidth-6+"px";a.style["height"]=b.offsetHeight-10+"px";a.style["position"]="absolute";a.style["background"]="#000";a.style["display"]="";a.style["opacity"]="0.1";a.style["filter"]="alpha(opacity=20)"},middle:function(){if(!this.config.isBackgroundCanClick){G("dialogBoxBG").style.display=""}var f=G("dialogBox");f.style["position"]="absolute";f.style["display"]="";var c=(document.documentElement.clientWidth||document.body.clientWidth);var e=(document.documentElement.clientHeight||document.body.clientHeight);var b=(document.documentElement.scrollTop||document.body.scrollTop);var d=(c/2)-(f.offsetWidth/2);var a=(e/2+b)-(f.offsetHeight/2);if(a<b){a=20+b}if(d<1){d=20}f.style["left"]=d+"px";f.style["top"]=a+"px"},reset:function(a){this.close();if(typeof a!=="boolean"){a=false}if(this.config.isReloadOnClose||a){top.location.href=top.location.href.replace(/#.*$/g,"")}},close:function(){G("dialogBox").style.display="none";if(!this.config.isBackgroundCanClick){G("dialogBoxBG").style.display="none"}if(this.config.isShowShadow){G("dialogBoxShadow").style.display="none"}G("dialogBody").innerHTML="";this.showSome()},hiddenSome:function(){var a=this.info.someHiddenTag.split(",");if(a.length==1&&a[0]==""){a.length=0}for(var b=0;b<a.length;b++){this.hiddenTag(a[b])}var c=this.info.someHiddenEle.split(",");if(c.length==1&&c[0]==""){c.length=0}for(var b=0;b<c.length;b++){this.hiddenEle(c[b])}var c=this.info.someDisabledBtn.split(",");if(c.length==1&&c[0]==""){c.length=0}for(var b=0;b<c.length;b++){this.disabledBtn(c[b])}},disabledBtn:function(b){var a=document.getElementById(b);if(typeof(a)!="undefined"&&a!=null&&a.disabled==false){a.disabled=true;this.someToDisabled.push(a)}},hiddenTag:function(b){var c=document.getElementsByTagName(b);if(c!=null){for(var a=0;a<c.length;a++){if(c[a].style.display!="none"&&c[a].style.visibility!="hidden"){c[a].style.visibility="hidden";this.someToHidden.push(c[a])}}}},hiddenEle:function(b){var a=document.getElementById(b);if(typeof(a)!="undefined"&&a!=null){a.style.visibility="hidden";this.someToHidden.push(a)}},showSome:function(){for(var a=0;a<this.someToHidden.length;a++){this.someToHidden[a].style.visibility="visible"}for(var a=0;a<this.someToDisabled.length;a++){this.someToDisabled[a].disabled=false}},replaceIframe:function(a){this.setContent("contentUrl",a);G(this.iframeIdName).src=a}};var Dragdrop=new Class();Dragdrop.prototype={initialize:function(c,b,a,d,e){this.dragData=null;this.dragDataIn=null;this.backData=null;this.width=c;this.height=b;this.shadowWidth=a;this.showShadow=d;this.contentType=e;this.IsDraging=false;this.oObj=G("dialogBox");Event.observe(G("dialogBoxTitle"),"mousedown",this.moveStart.bindAsEventListener(this),false)},moveStart:function(a){this.IsDraging=true;if(this.contentType==1){G("iframeBG").style.display="";G("iframeBG").style.width=this.width+"px";G("iframeBG").style.height=this.height+"px"}Event.observe(document,"mousemove",this.mousemove.bindAsEventListener(this),false);Event.observe(document,"mouseup",this.mouseup.bindAsEventListener(this),false);Event.observe(document,"selectstart",this.returnFalse,false);this.dragData={x:Event.pointerX(a),y:Event.pointerY(a)};this.backData={x:parseInt(this.oObj.style.left),y:parseInt(this.oObj.style.top)};if(document.body.setCapture){document.body.setCapture()}},mousemove:function(a){if(!this.IsDraging){return}var c=Event.pointerX(a)-this.dragData.x+parseInt(this.oObj.style.left);var b=Event.pointerY(a)-this.dragData.y+parseInt(this.oObj.style.top);if(this.dragData.y<parseInt(this.oObj.style.top)){b=b-12}else{if(this.dragData.y>parseInt(this.oObj.style.top)+25){b=b+12}}this.oObj.style.left=c+"px";this.oObj.style.top=b+"px";if(this.showShadow){G("dialogBoxShadow").style.left=c+this.shadowWidth+6+"px";G("dialogBoxShadow").style.top=b+this.shadowWidth+10+"px"}this.dragData={x:Event.pointerX(a),y:Event.pointerY(a)};document.body.style.cursor="move"},mouseup:function(c){if(!this.IsDraging){return}if(this.contentType==1){G("iframeBG").style.display="none"}document.onmousemove=null;document.onmouseup=null;var b=Event.pointerX(c)-(document.documentElement.scrollLeft||document.body.scrollLeft);var a=Event.pointerY(c)-(document.documentElement.scrollTop||document.body.scrollTop);if(b<1||a<1||b>document.body.clientWidth||a>document.body.clientHeight){this.oObj.style.left=this.backData.x+"px";this.oObj.style.top=this.backData.y+"px";if(this.showShadow){G("dialogBoxShadow").style.left=this.backData.x+this.shadowWidth+6+"px";G("dialogBoxShadow").style.top=this.backData.y+this.shadowWidth+10+"px"}}this.IsDraging=false;document.body.style.cursor="";Event.stopObserving(window,"selectstart",this.returnFalse,false);if(document.body.releaseCapture){document.body.releaseCapture()}},returnFalse:function(){return false}};var baikeLoginArgs=[];function userLogin(){switch(arguments.length){case 0:relogin();break;case 1:baikeLoginArgs=[arguments[0]];loginflag.setLoginArr("loginSt",0);loginflag.setLoginArr("loginUrl",arguments[0]);checkIfLogin();break;default:baikeLoginArgs=[arguments[0],arguments[1]];loginflag.setLoginArr("loginSt",1);loginflag.setLoginArr("isDetect",arguments[0]);loginflag.setLoginArr("loginTip",arguments[1]);checkIfLogin();break}nslog(location.href,88,{name:"login"})}function checkReloginResult(){afterLogin()}function afterLogin(){switch(baikeLoginArgs.length){case 0:try{UnloadConfirm.clear()}catch(a){}window.location=location.href.replace(/#.*/,"");g_pop.close();break;case 1:window.location=baikeLoginArgs[0];g_pop.close();break;default:g_pop.close();if(loginflag.getLoginArr("isDetect")==3){Detect.detecting()}else{try{cnEdit()}catch(a){submitform()}}break}}function relogin(a){g_pop=new Popup({contentType:1,isReloadOnClose:false,width:408,height:345});g_pop.setContent("title","登录到百度百科");g_pop.setContent("contentUrl","/page/userlogin.html"+(a?("?fr="+a):""));g_pop.build();g_pop.show()}var userlogin=userlogin||function(){};userlogin.reg=function(a){var b="/page/userlogin.html?userreg"+(a?("&fr="+a):"");g_pop=new Popup({contentType:1,isReloadOnClose:false,width:408,height:345});g_pop.setContent("title","登录到百度百科");g_pop.setContent("contentUrl",b);g_pop.build();g_pop.show()};var regOkHandler=function(a){g_pop.replaceIframe("/page/regok.html?un="+encodeURIComponent(a));g_pop.resize(538,395)};var offlineTimer;function checkIfLogin(){var b="http://baike.baidu.com/login?s="+Math.random();var a=document.createElement("script");a.setAttribute("type","text/javascript");a.setAttribute("src",b);document.getElementsByTagName("head")[0].appendChild(a);offlineTimer=setTimeout(loginWarn,15000)}function wiki_relogin(){clearTimeout(offlineTimer);if(arguments[0]==1){if(loginflag.getLoginArr("loginSt")==0){loginflag.setLoginArr("loginTip",0);var c=loginflag.getLoginArr("loginUrl");var e=setParamURL(c);if(document.images){var b=new Image();var d=addURLParam("/js/blank.js","id",e);b.src=addURLParam(d,"logTp",0)}relogin(c)}else{relogin(loginflag.getLoginArr("isDetect"),loginflag.getLoginArr("loginTip"))}}else{if(loginflag.getLoginArr("loginSt")==0){window.location=loginflag.getLoginArr("loginUrl")}else{if(loginflag.getLoginArr("isDetect")==3){Detect.detecting()}else{try{cnEdit()}catch(a){submitform()}}}}}function loginWarn(){var a='			<br>			<div style="font-size:14px;font-weight:bold;text-align:center;padding:10px 10px">请检查您的网络链接，重新进行提交</div>	';g_pop=new Popup({contentType:2,isReloadOnClose:false,width:350,height:120});g_pop.setContent("title","提示");g_pop.setContent("contentHtml",a);g_pop.build();g_pop.show()}function addURLParam(c,b,a){c+=(c.indexOf("?")==-1?"?":"&");c+=b+"="+a;return c}function setParamURL(b){if(b.indexOf("id=")!=-1){var a=(b.match(/id=\d+/).toString().substr(3));return a}}var loginFlag=function(){};(function loginStatus(){var a=new Array();a.loginTip=0;loginFlag.prototype.setLoginArr=function(b,c){a[b]=c};loginFlag.prototype.getLoginArr=function(b){return a[b]}})();var loginflag=new loginFlag();function getCookie(c){var b="(?:; )?"+c+"=([^;]*);?";var a=new RegExp(b);if(a.test(document.cookie)){return decodeURIComponent(RegExp["$1"])}else{return null}}function setCookie(f,g,b,c,a,e){var d=f+"="+encodeURIComponent(g);if(b){d+="; expires="+b.toGMTString()}if(c){d+="; path="+c}if(a){d+="; domain="+a}if(e){d+="; secure"}document.cookie=d}function setSug(){g_pop=new Popup({contentType:1,isReloadOnClose:false,width:300,height:180});g_pop.setContent("title","设置");g_pop.setContent("contentUrl","/page/suggestion.html");g_pop.build();g_pop.show()}function userlogin(b,a){userlogin.onLoginSuccess=b||userlogin.defalutLoginSuccess;userLogin()}userlogin.defalutLoginSuccess=userlogin.onLoginSuccess=function(){window.location.href=window.location.href.replace(/#.*$/g,"")};userlogin.onLoginFailed=function(){window.location="http://passport.baidu.com/?login&tpl=wk&u="+escape("http://baike.baidu.com/")};userlogin.check=function(d,a,c){function b(f,g,e){if(baidu.trim(f.responseText)=="0"){if(e){e()}else{userlogin(g,c)}return false}if(g){g()}return true}baidu.ajax.get("/api/login/?t="+(new Date()).getTime(),function(e){b(e,d,a);console.log(e)})};userlogin.api=(function(){var loginConfig={immediate:true,jumpUrl:"http://baike.baidu.com/page/logincallback.html?fr=loginapi",labelName:{password:"密\u3000码："},onSuccess:function(){window.location=location.href.replace(/#.*/,"")},onSystemError:function(){window.location=["http://passport.baidu.com/?login","tpl=wk",("u="+escape("http://baike.baidu.com/"))].join("&")},container_id:"user-login-container"};var loginParams={};function getPassportConfig(){var loginUrl=["http://passport.baidu.com/api/?login","tpl=wk","callback=userlogin.api.init",("time="+new Date().getTime())].join("&");baidu.sio.callByServer(loginUrl)}function setConfig(conf){baidu.object.extend(loginConfig,conf)}function configInit(conf){loginParams=eval(conf);if(loginParams.error_no==1){}else{baidu.sio.callByBrowser(loginParams.jslink,buildLoginPage)}}function buildLoginPage(){bdPass.LoginTemplate.render(loginParams,loginConfig.container_id,loginConfig)}return{get:getPassportConfig,set:setConfig,init:configInit,render:buildLoginPage}})();userlogin.userbarinit=function(){var a=baidu.G("logout");if(a&&(a.className!="goto-index")){a.href="https://passport.baidu.com/?logout&u="+escape(location.href)}};baidu.dom.ready(userlogin.userbarinit);baidu.more.ns("bk.userbar");bk.userbar.check=function(){baidu.ajax.get("/api/login/?t="+(new Date()).getTime(),function(a){bk.userbar.build(a)})};bk.userbar.build=function(req){var user=eval("("+req.responseText+")");var userbarHtml=[];if(user){userbarHtml.push('<strong><a href="http://passport.baidu.com/center" target="_blank" id="login-user-name" class="nslog:80">'+user.name+"</a></strong> "+user.title);if(user.forbid){userbarHtml.push('<span class="red">禁止发表词条</span>')}userbarHtml.push('<span id="mnum" class="nslog-area" data-nslog-type="85"></span><span class="usrbar-split">|</span><span id="my_home_container"><a id="my_home" target="_blank" class="nslog:81" href="http://baike.baidu.com/uc/home">我的百科</a></span><span class="usrbar-split">|</span><a target="_blank" href="http://zhidao.baidu.com/q?ct=24&amp;cm=16&amp;tn=ucframework&amp;fr=wk" class="nslog:84">我的知道</a>');if(user.hasspace=="true"){userbarHtml.push('<span class="usrbar-split">|</span><a target="_blank" href="http://hi.baidu.com/sys/checkuser/'+user.name+'/3" class="nslog:86">我的空间</a>')}userbarHtml.push('<span class="usrbar-split">|</span><a href="http://www.baidu.com" class="nslog:87">百度首页</a> <span class="usrbar-split">|</span> ');userbarHtml.push('<a id="logout" target="_self" href="https://passport.baidu.com/?logout&amp;u=http://baike.baidu.com" nslog:89">退出</a>')}else{userbarHtml.push('<a href="http://www.baidu.com" class="nslog:87">百度首页</a><span class="usrbar-split">|</span><a href="https://passport.baidu.com/?login&amp;tpl=wk" class="nslog:88" onclick="userlogin();return false">登录</a>')}if(user){userbarHtml.push('<div id="nav_extra" style="display:none"><div class="top"><a href="/uc/home" class="nslog:81" target="_blank">我的百科</a></div><div class="body">');if(user.channeladmin){userbarHtml.push('<div><a target="_blank" href="http://baike.baidu.com/channel-admin/" class="nslog:1002">分类管理员</a></div>')}userbarHtml.push('<div><a target="_blank" class="nslog:82" href="http://baike.baidu.com/uc/effort">我的贡献</a></div><div><a target="_blank" class="nslog:83" href="http://baike.baidu.com/uc/draft">草稿箱</a></div><div><a target="_blank" class="nslog:1003" href="http://baike.baidu.com/uc/task">我的任务</a></div><div><a target="_blank" class="nslog:1004" href="http://baike.baidu.com/uc/recommend">为我推荐</a></div></div></div>')}baidu.g("usrbar").innerHTML=userbarHtml.join("");bk.userbar.init();baidumessage();userlogin.userbarinit();if(user){getUserInfoAsc()}};function userbarEvent(){var e,d,b;function a(h,g){h.style.display=b?"none":"block";h.style.left=g+"px"}function f(g){b&&userbarHover(g)}function c(){e=null;d=null;baidu.un(window,"unload",c)}baidu.on(window,"resize",f);baidu.on(document,"click",f);baidu.on(window,"unload",c);return function(h){(h||window.event).cancelBubble=true;e=e||baidu.G("usrbar");d=d||baidu.G("nav_extra");var j=baidu.G("my_home"),l=e.scrollHeight,g=j.offsetLeft;g=g-6;a(d,g);baidu.G("usrbar").scrollWidth;b=!b}}baidu.more.ns("bk.userbar");bk.userbar.init=function(){window.userbarHover=userbarEvent();var a=baidu.G("my_home_container");var b=baidu.G("nav_extra");if(a){baidu.on(a,"mouseover",userbarHover)}if(b){baidu.on(b,"mouseout",function(e){var d=baidu.event.getPageX(e);var g=baidu.event.getPageY(e);var f=baidu.dom.getPosition(b);var c=baidu.q("body",b,"div");var c=c&&c[0];if(c){if(d<f.left+3||d>=f.left+parseInt(baidu.getStyle(b,"width"),10)-3||g<f.top+3||g>=baidu.dom.getPosition(c).top+c.offsetHeight-3){if(b.style.display=="block"){userbarHover(e)}}}})}};var pop={onOk:function(){},onclosed:function(){},onshow:function(){},create:function(){if(!baidu.G("pop-main")){var b=document.createElement("div");b.id="pop-shadow";var c=document.createElement("div");c.id="pop-main";c.style.width="500px";var a=document.createElement("iframe");a.id="pop-shadow-iframe";var d=[,'<div class="p-bg">','<div class="p-top">','<div class="p-title"><div id="pop-close"></div><p id="pop-title">信息提示</p></div>','<div class="p-r1"></div><div class="p-r2"></div>',"</div>",'<div class="p-body"><div class="p-body-inner">','<iframe id="pop-iframe-content" name="pop-iframe-content" width="100%" frameborder="0" scrolling="no" src="about:blank"></iframe>','<div id="pop-text-content"></div>',"</div></div>",'<div class="p-bottom"><div class="p-r3"></div><div class="p-r4"></div><div class="clear"></div></div>','</div><div id="pop-shadow-bg"></div>'];c.innerHTML=d.join("");document.body.insertBefore(a,document.body.firstChild);document.body.insertBefore(c,document.body.firstChild);document.body.insertBefore(b,document.body.firstChild)}},resize:function(b,a,n){var d=baidu.page;var r=d.getScrollTop();var o=d.getWidth()||500;var e=d.getHeight()||500;var q=baidu.G("pop-shadow");var c=baidu.G("pop-shadow-bg");var l=baidu.G("pop-main");var j=baidu.G("pop-shadow-iframe");var p=a||parseInt(l.style.width,10)||500;var f=n||l.offsetHeight||parseInt(l.style.height,10)||500;q.style.width=o+"px";q.style.height=e+"px";q.style.left=q.style.top="0px";j.style.width=(o-20)+"px";j.style.height=(e-20)+"px";j.style.top=j.style.left="5px";var m=(d.getViewWidth()-p)/2;var g=(d.getViewHeight()-f)/2+r;if(m<1){m=r}if(g<1){g="20"}l.style.left=m+"px";l.style.top=g+"px";l.style.width=p+"px";c.style.height=f+"px";if(n&&baidu.G("pop-iframe-content").style.display=="block"){baidu.G("pop-iframe-content").style.height=n+"px"}},hide:function(){pop.onclosed();var a=function(e){e=baidu.G(e);if(e){baidu.hide(e)}};try{a("pop-main");a("pop-shadow");a("pop-shadow-iframe");var d=baidu.G("pop-iframe-content");try{d.src="about:blank"}catch(c){try{d.location="about:blank"}catch(c){}}}catch(b){}baidu.un(window,"resize",pop.resize);baidu.un(document,"onkeydown",pop.keyListener)},keyListener:function(b){b=window.event||b;var a=b.which||b.keyCode;if(27==a){pop.hide()}},config:function(h,a){pop.create();if(h){baidu.G("pop-title").innerHTML=h}pop.onclosed=a.onclosed||function(){};pop.onshow=a.onshow||function(){};var j=baidu.G("pop-iframe-content");var c=baidu.G("pop-text-content");if(a.url){if(a.url!=true){c.innerHTML="";baidu.hide(c);j.style.display="block";try{j.src=a.url}catch(f){try{document.frames["pop-iframe-content"].location=a.url}catch(f){}}}if(a.scrollX){j.style.overflowX=a.scrollX}if(a.scrollY){j.style.overflowY=a.scrollY}if(a.scroll){j.style.overflow=a.scroll}}else{if(a.info){baidu.hide(j);c.style.display="block";c.innerHTML=a.info}}var b=a.width||450;var g=a.height||400;var d=baidu.G("pop-main");d.style.width=b+"px";if(a.url&&j.style.display=="block"){j.style.height=g+"px";j.style.width=(b-30)+"px"}},show:function(b,a){pop.create();pop.config(b,a);baidu.G("pop-close").onclick=pop.hide;baidu.G("pop-main").style.display="block";baidu.G("pop-shadow").style.display="block";baidu.G("pop-shadow-iframe").style.display="block";baidu.G("pop-title").onselectstart=function(){return false};pop.resize();baidu.on(window,"resize",pop.resize);baidu.on(document,"onkeydown",pop.keyListener)}};baidu.more.ns("tools.text");tools.text.cutByWidth=function(a,d,e){if(e){if(!baidu.browser.firefox||baidu.browser.firefox<1){return}}for(var b=a.length-1;b>=0;b--){if(a[b].scrollWidth>d){a[b].innerHTML+="..."}var c=a[b].innerHTML;while(a[b].scrollWidth>d){if(a[b].scrollWidth<8){break}c=c.substr(0,c.length-4)+"...";a[b].innerHTML=c}}};baidu.more.ns("tools.image");tools.image.sizelimit=function(b,g,f,c){if(b.width<=g&&b.height<=f){return}if(b.width>0&&b.height>0){var a=b.width;var e=b.height;var d=Math.min(g/a,f/e);b.style.height="";b.style.width="";b.height=Math.ceil(e*d);b.width=Math.ceil(a*d);if(c){b.style.marginTop=((f-b.height)/2)+"px"}}else{b.style.height="";b.style.width="";b.style.width=g;b.style.height=f}};baidu.more.ns("tools.fixable");tools.fixable=function(d,c){var d=baidu.g(d);if(d){var b=baidu.page.getHeight();if(baidu.ie&&baidu.ie<7){baidu.setStyle(d,"position","absolute");var a=(c.top||baidu.page.getViewHeight());d.style.setExpression("top","eval((document.documentElement||document.body).scrollTop+"+a+") + 'px'")}else{baidu.setStyle(d,"position","fixed")}baidu.setStyles(d,c)}};baidu.dom.ready(function(){baidu.on(document,"mousedown",function(f){var b=baidu.event.get(f);var d=b.target;if(d.nodeType==1){var g=d.className.match(/nslog:(\d+)/);if(g){var c=location.href;if(d.href){c=d.href}nslog(c,g[1],{x:b.pageX,y:b.pageY})}}d=null});var a=baidu.q("nslog-area",document);baidu.each(a,function(b){baidu.on(b,"mousedown",function(g){var d=baidu.dom.getAttr(b,"data-nslog-type");var c=baidu.event.get(g);var f=c.target;if(f.href){url=f.href;nslog(url,d,{x:c.pageX,y:c.pageY})}f=null})});a=null});baidu.dom.ready(function(){if(baidu.G("search")){baidu.sio.callByBrowser("/js/sug.js")}});baidu.more.ns("lemma");baidu.more.ns("bk.view");baidu.more.ns("bk.view");baidu.more.ns("bk.view.timer");bk.view.catalog=(function(){var a={};a.init=function(){this.holder1=document.getElementById("holder1");this.holder2=document.getElementById("holder2");this.temp=null;this.data=null;this.mT=null;this.fadeT=null;this.mItems=this.holder1.getElementsByTagName("DD");this.mItemNum=this.holder1.getElementsByTagName("DD").length;this.mSubItems=null;this.mSubItemNum=0;this.mSub=this.holder1.getElementsByTagName("OL");this.mSubNum=this.mSub.length;this.mShowNum=8;this.h=0;this.dataH=0;this.fade=0};a.start=function(){if(!baidu.G("catalog")){return}a.init();if(a.mItemNum<=a.mShowNum&&a.mSubNum==0){return}var b="";var g="";for(var d=0;d<a.mSubNum;d++){a.mSub[d].style.display="inline"}var c=a.holder1.offsetWidth;for(var d=0;d<a.mSubNum;d++){a.mSub[d].style.display="none"}if(a.mItemNum>a.mShowNum){for(var d=0;d<a.mShowNum;d++){b+="<dd>"+a.mItems[d].innerHTML+"</dd>"}g="<dd id='cata-temp' class='temp'><ul id='cata-data' class='data'>";for(var d=a.mShowNum;d<a.mItemNum;d++){g+="<li>"+a.mItems[d].innerHTML+"</li>"}g+="</ul></dd>";a.holder2.innerHTML=b+g;for(var d=a.mShowNum;d<a.mItemNum;d++){a.mItems[d].style.display="none"}a.temp=document.getElementById("cata-temp");a.data=document.getElementById("cata-data");a.holder2.style.display="block";a.temp.style.height=0+"px";a.dataH=a.data.offsetHeight;var f=Math.round((a.dataH-a.mShowNum*22)/2);f=f-f%22;a.step=Math.max(22,f)}else{a.holder2.innerHTML=a.holder1.innerHTML}a.holder1.style.width=c+"px";a.holder2.style.width=c+"px";a.holder1.style.visibility="hidden";a.holder1.style.paddingBottom="20px";a.holder2.style.display="block";a.holder2.className="arr";var e=document.createElement("div");e.id="catalog-holder";e.className="nslog:1017";e.innerHTML="展开";a.holder2.appendChild(e);e=null;a.mSubItems=a.holder2.getElementsByTagName("OL");a.mSubItemNum=a.mSubItems.length;baidu.on(baidu.g("catalog-holder"),"mouseover",function(){baidu.addClass(this,"hover")});baidu.on(baidu.g("catalog-holder"),"mouseout",function(){baidu.removeClass(this,"hover")});baidu.on(baidu.g("catalog-holder"),"click",a.toggle);baidu.on(a.holder2,"mousedown",a.holderClick)};a.status=false;a.toggle=function(){clearTimeout(a.mT);try{baidu.un(document,"click",a.outclick)}catch(b){}if(a.status){a.min()}else{a.mT=setTimeout(a.maxM,10);a.status=true;baidu.on(document,"click",a.outclick)}};a.outclick=function(d){var b=baidu.event.get(d);var c=b.target;if(!baidu.dom.contains(baidu.g("catalog"),c)){clearTimeout(a.mT);a.min();try{baidu.un(document,"click",a.outclick)}catch(d){}}b=c=null};a.holderClick=function(f){var b=baidu.event.get(f);var c=b.target;if(a.status){if(c.nodeType==1){if(c.nodeName.toUpperCase()=="A"){a.min();var d=c.href.match(/#(.*)/);if(d){location.hash=d[0]}}}}else{if(c.nodeType==1&&c.id=="catalog-holder"){}else{if(!(c.nodeType==1&&c.nodeName.toUpperCase()=="A")){a.toggle()}}}b=c=null};a.min=function(){clearTimeout(a.mT);if(a.mSubNum>0){a.mT=setTimeout(a.hideSecondTitle,10)}else{a.mT=setTimeout(a.minM,100)}a.status=false};a.maxM=function(){baidu.g("catalog-holder").className="nslog:1018";baidu.g("catalog-holder").innerHTML="收起";a.holder2.className="up";if(a.h<a.dataH){a.h+=a.step;a.h=Math.min(a.h,a.dataH);a.temp.style.height=a.h+"px";a.data.style.marginTop=(a.h-a.dataH)+"px";a.mT=setTimeout(a.maxM,10)}else{a.showSecondTitle()}a.status=true};a.minM=function(){baidu.g("catalog-holder").innerHTML="展开";a.holder2.className="arr";if(a.h>0){a.h-=a.step;a.h=Math.max(a.h,0);a.temp.style.height=a.h+"px";a.data.style.marginTop=(a.h-a.dataH)+"px";a.mT=setTimeout(a.minM,10)}};a.fadeIn=function(){clearTimeout(a.fadeT);if(a.fade>=100){return}a.fade+=25;for(var b=0;b<a.mSubItemNum;b++){a.mSubItems[b].style.filter="Alpha(Opacity="+a.fade+")";a.mSubItems[b].style.opacity=a.fade/100}a.fadeT=setTimeout(a.fadeIn,20)};a.fadeOut=function(){clearTimeout(a.fadeT);if(a.fade<=25){for(var b=0;b<a.mSubItemNum;b++){a.mSubItems[b].style.display="none"}if(a.mItemNum>a.mShowNum){a.h=a.data.offsetHeight;a.temp.style.height=a.h+"px"}a.mT=setTimeout(a.minM,20);return}a.fade-=25;a.fadeT=setTimeout(a.fadeOut,20)};a.showSecondTitle=function(){for(var b=0;b<a.mSubItemNum;b++){a.mSubItems[b].style.display="block"}if(a.mItemNum>a.mShowNum){a.h=a.data.offsetHeight;a.temp.style.height=a.h+"px"}else{}clearTimeout(a.mT)};a.hideSecondTitle=function(){clearTimeout(a.mT);for(var b=0;b<a.mSubItemNum;b++){a.mSubItems[b].style.display="none"}if(a.mItemNum>a.mShowNum){a.h=a.data.offsetHeight;a.temp.style.height=a.h+"px"}a.mT=setTimeout(a.minM,20)};a.showCatalog=function(){var c=a.holder1.style.display=="none";a.holder1.style.display=c?"block":"none";if(a.mItemNum<=a.mShowNum&&a.mSubNum==0){a.holder2.style.display="none"}else{a.holder2.style.display=c?"block":"none"}document.getElementById("dir_alt").innerHTML=c?"\u9690\u85cf":"\u663E\u793A"};return{start:a.start,showCatalog:a.showCatalog}})();baidu.more.ns("bk.view.sidecatalog");bk.view.sidecatalog.step=20;bk.view.sidecontentList=[];bk.view.sidecatalog.totalHeigth=0;bk.view.sidecatalog.vHeight=80;bk.view.sidecatalog.togglestatus=false;bk.view.sidecatalog.catalogEle=null;bk.view.sidecatalog.checkToShow=function(){var d=baidu.page.getScrollTop();var a=baidu.g("catalog");var c=500;var b=baidu.page.getHeight()-baidu.page.getViewHeight()-20;if(a){c=baidu.dom.getPosition(a).top+a.offsetHeight}if(d<c){return false}else{return true}};bk.view.sidecatalog.contentScroll=function(e){var c=baidu.g("side-title-list");var b=e*bk.view.sidecatalog.step;var d=bk.view.sidecatalog.vHeight;var g=bk.view.sidecatalog.totalHeigth;if(d<=0){return}var f=parseInt(c.style.top)||0;var h=f+b;var j="normal";if(h>=0){h=0;j="top"}if(h+g<=d){h=Math.min(-g+d,0);j=(j=="top")?"both":"bottom"}bk.view.sidecatalog.statuschange(j);h=h-h%bk.view.sidecatalog.step;var a=new FX(c,{top:{to:h}},0.3,"linear");a.start()};bk.view.sidecatalog.init=function(){var b=baidu.g("holder1");bk.view.sidecatalog.catalogEle=baidu.g("catalog");var a=baidu.g("page");if(!b){baidu.g("sidebar").style.visibility="hidden";nslog("sidebar",1025,{catalog:0})}else{bk.view.sidecontentbuild();baidu.on("side-catalog-up","mousedown",function(){clearInterval(bk.view.timer.ele_side_catalog_scroll);bk.view.timer.ele_side_catalog_scroll=setInterval(function(){bk.view.sidecatalog.contentScroll(3)},300)});baidu.on("side-catalog-up","mouseup",function(){clearInterval(bk.view.timer.ele_side_catalog_scroll)});baidu.on("side-catalog-up","click",function(){clearInterval(bk.view.timer.ele_side_catalog_scroll);bk.view.sidecatalog.contentScroll(3)});baidu.on("side-catalog-down","mousedown",function(){clearInterval(bk.view.timer.ele_side_catalog_scroll);bk.view.timer.ele_side_catalog_scroll=setInterval(function(){bk.view.sidecatalog.contentScroll(-3)},300)});baidu.on("side-catalog-down","click",function(){clearInterval(bk.view.timer.ele_side_catalog_scroll);bk.view.sidecatalog.contentScroll(-3)});baidu.on("side-catalog-down","mouseup",function(){clearInterval(bk.view.timer.ele_side_catalog_scroll)});baidu.on("side-catalog-up","mouseover",function(c){if(this.className!="disabled"){baidu.addClass(this,"hover")}});baidu.on("side-catalog-up","mouseout",function(c){baidu.removeClass(this,"hover")});baidu.on("side-catalog-down","mouseout",function(c){baidu.removeClass(this,"hover")});baidu.on("side-catalog-down","mouseover",function(c){if(this.className!="disabled"){baidu.addClass(this,"hover")}});nslog("sidebar",1025,{catalog:1})}};bk.view.sidecontentbuild=function(){var r=baidu.g("lemmaContent");var g=r.getElementsByTagName("h2");var e=r.getElementsByTagName("h3");var a=[];var o=0;function x(c){return c.replace(/<[^>]*>.*<\/[^>]>/g,"")}function f(d,l){var c=x(d.innerHTML);return{ele:d,title:c,level:l}}for(var s=0,q=g.length;s<q;s++){var m=f(g[s],1);a.push(m);var p=null;if(g[s+1]){p=g[s+1]}for(var t=e.length;o<t;o++){var b=e[o];if(s==0&&b.offsetTop<g[s].offsetTop){continue}if(p==null||p&&(b.offsetTop<p.offsetTop&&b.offsetTop>g[s].offsetTop)){a.push(f(b,2));continue}break}}bk.view.sidecontentList=a;var n=document.createElement("div");var v=document.createElement("div");var h=document.createElement("div");var j=document.createElement("div");v.id="side-title-list";n.id="side-title-panel";h.id="side-catalog-up";j.id="side-catalog-down";baidu.each(a,function(y,d){var c="h2";if(y.level==2){c="h3"}var l=document.createElement(c);l.innerHTML=["<a href='#' class='nslog:1026' data-index = '"+d+"'","title='",baidu.string.encodeHTML(y.title),"'>",y.title,"</a>"].join("");v.appendChild(l);l=null});n.appendChild(v);var w=baidu.g("side-catalog-content");h.innerHTML="<div></div>";j.innerHTML="<div></div>";w.appendChild(h);w.appendChild(n);w.appendChild(j);var u=v.getElementsByTagName("a");for(var s=0,q=u.length;s<q;s++){baidu.on(u[s],"click",function(c){bk.view.catalogscrollto(baidu.dom.getAttr(this,"data-index"));baidu.event.preventDefault(c)})}u=null;v=n=h=j=w=null};bk.view.catalogscrollto=function(a){if(bk.view.sidecontentList[a]){var b=baidu.dom.getPosition(bk.view.sidecontentList[a].ele).top-40;window.scrollTo(0,b)}};bk.view.sidecatalog.statuschange=function(a){switch(a){case"top":baidu.g("side-catalog-up").className="disable";baidu.removeClass("side-catalog-down","disable");break;case"bottom":baidu.g("side-catalog-down").className="disable";baidu.removeClass("side-catalog-up","disable");break;case"normal":baidu.removeClass("side-catalog-up","disable");baidu.removeClass("side-catalog-down","disable");break;case"both":baidu.g("side-catalog-up").className="disable";baidu.g("side-catalog-down").className="disable";break}};bk.view.sidecatalog.toggle=function(){var a=false;return function(){baidu[a?"hide":"show"]("side-catalog-content");baidu[a?"removeClass":"addClass"]("sidebar","show");a=!a;bk.view.sidecatalog.togglestatus=a;var b=bk.view.sidecatalog.tofocus;if(baidu.ie&&baidu.ie<7){b=bk.view.sidecatalog.delayfocus}if(a){bk.view.sidecatalog.tofocus();baidu.on(window,"scroll",b)}else{try{baidu.un(window,"scroll",b)}catch(c){}}nslog("sidecatalog.toggle",1027,{status:a})}};bk.view.sidecatalog.delayfocus=function(){clearTimeout(bk.view.timer.scroll_catalogfocus);bk.view.timer.scroll_catalogfocus=setTimeout(bk.view.sidecatalog.tofocus,200)};bk.view.sidecatalog.tofocus=function(){if(bk.view.sidecatalog.togglestatus){var h=baidu.page.getScrollTop()+40;var d=baidu.g("side-title-list");if(bk.view.sidecatalog.totalHeigth==0){bk.view.sidecatalog.totalHeigth=d.offsetHeight}if(d&&bk.view.sidecatalog.totalHeigth>0){var f=bk.view.sidecatalog.vHeight;var m=bk.view.sidecatalog.totalHeigth;if(f<=0||m==0){return}for(var g=0,b=bk.view.sidecontentList.length;g<b;g++){if(baidu.dom.getPosition(bk.view.sidecontentList[g].ele).top<=h&&((g+1==b)||((g+1<b)&&baidu.dom.getPosition(bk.view.sidecontentList[g+1].ele).top>h))){var c=g*bk.view.sidecatalog.step;var a=f/2;a=a-a%20;var e=Math.min(f-c-a,0);var j="normal";if(e+m<=f){e=-m+f;j="bottom"}if(e==0){j=(j=="bottom")?"both":"top"}bk.view.sidecatalog.statuschange(j);baidu.dom.setStyle(d,"top",e);baidu.addClass(d.childNodes[g],"on")}else{baidu.removeClass(d.childNodes[g],"on")}}}}};bk.view.sidecatalog.resize=function(j){var g=baidu.g("sidecatalog");var d=baidu.g("side-catalog-content");var f=baidu.g("wrap");var h=baidu.dom.getPosition(f);var a=bk.view.sidecontentList.length*bk.view.sidecatalog.step+40;var c=Math.min(baidu.page.getViewHeight()-200,500);c=c-c%20;if(a>c){a=c}if(a<100){a=100}bk.view.sidecatalog.vHeight=a-40;tools.fixable(g,{top:(baidu.page.getViewHeight()-150),left:(f.offsetWidth+h.left-40-246)});tools.fixable(d,{overflow:"hidden",height:a,top:(baidu.page.getViewHeight()-a-60),left:(f.offsetWidth+h.left-259)});var b=baidu.g("side-title-panel");if(b){baidu.dom.setStyle(b,"height",a-40)}};bk.view.sidecatalog.scroll=function(c){var b=baidu.g("sidecatalog");clearTimeout(bk.view.timer.ele_side_catalog);if(!bk.view.sidecatalog.checkToShow()){baidu.hide(b);baidu.hide(baidu.g("side-catalog-content"))}else{baidu.show(b);if(bk.view.sidecatalog.togglestatus){baidu.show("side-catalog-content");var a=baidu.g("side-title-list").offsetHeight;if(a>0){bk.view.sidecatalog.totalHeigth=a}}}};baidu.dom.ready(function(){bk.view.sidecatalog.init();bk.view.sidecatalog.resize();bk.view.sidecatalog.scroll();baidu.on(window,"scroll",bk.view.sidecatalog.scroll);baidu.on("sidebar","click",bk.view.sidecatalog.toggle());baidu.on(window,"resize",bk.view.sidecatalog.resize)});var Detect={detecting:function(){handle_doDetect()},url:"",id:"",uptime:"",upnum:"",upst:"",content:"",latestid:""};function formatDetect(b){var a=Fe.Dialog.open("/page/detect.html",b);return a}Detect.callback=function(c){if(c.conflictVersionNum>=c.conflictLimit){if(c.conflictLimit){var a;if(baidu.G("BkLogUser")){a="func=editdeny&username="+baidu.G("BkLogUser").innerHTML+"&lid="+baikeViewInfo.id}else{a="func=editdeny&lid="+baikeViewInfo.id}nslog.stat(a);Detect.content="很抱歉，该词条已有多个版本正在提交中，您当前无法编<br>辑该词条：（<br><br>百科建议您晚些时候再尝试编辑该词条，或尝试编辑其他<br>词条。";var b=formatDetect({title:"编辑提示",width:"388px",height:"190px",buttonbar:true,buttonAccept:false,buttonCancel:true,contentType:"HTMLUrl",locked:true,buttonCancelValue:"返回"})}else{if(c.isMidNight==1){Detect.content='您当前的编辑时间属百科<a href="http://www.baidu.com/search/baike_help.html#n22" target="_blank">特殊编辑时段</a>。<br><br>为保证您的编辑成果在提交后的最短时间内生效，百科建<br>议您选择其他时间进行编辑：）<br><br>仍然要继续编辑吗？';var b=formatDetect({title:"编辑提示",width:"388px",height:"190px",buttonbar:true,buttonAccept:true,buttonCancel:true,contentType:"HTMLUrl",locked:true});b.onaccept=function(){window.location=Detect.url}}else{window.location=Detect.url}}}else{if((c.conflictDegree==1)||(c.conflictDegree==2)){Detect.content="该词条当前已有其他版本正在等待审核。<br><br>为了保障您的编辑能得到及时审核，建议您稍后再编辑<br>本词条：）<br><br>仍然要继续吗？";var b=formatDetect({title:"编辑提示",width:"388px",height:"190px",buttonbar:true,buttonAccept:true,buttonCancel:true,contentType:"HTMLUrl",locked:true});b.onaccept=function(){window.location=Detect.url}}else{if(c.isMidNight==1){Detect.content='您当前的编辑时间属百科<a href="http://www.baidu.com/search/baike_help.html#n22" target="_blank">特殊编辑时段</a>。<br><br>为保证您的编辑成果在提交后的最短时间内生效，百科建<br>议您选择其他时间进行编辑：）<br><br>仍然要继续编辑吗？';var b=formatDetect({title:"编辑提示",width:"388px",height:"190px",buttonbar:true,buttonAccept:true,buttonCancel:true,contentType:"HTMLUrl",locked:true});b.onaccept=function(){window.location=Detect.url}}else{window.location=Detect.url}}}};Detect.doDetect=function(){var _str="tp=0&r="+Math.random()+"&lemmaid="+Detect.id+"&lemmaVersionId=0";var _url="/getConflictInfo/?"+_str;baidu.ajax.get(_url,function(xhr){Detect.callback(eval("("+xhr.responseText+")"))})};function formatDetect_privcheck(b){var a=Fe.Dialog.open("/page/privcheck.html",b);return a}function handle_doDetect(){baidu.sio.callByBrowser("/js/Dialog/Dialog.js",function(){var a="/api/editcheck?lemmaId="+baikeViewInfo.id;baidu.ajax.get(a,function(d,c){if(c=="12"){Detect.content='<center><h2>对不起，您暂时没有权限编辑该词条。</h2></center><p>您好，该词条内容已较丰富，现仅对百科等级达到<b>四级</b>，且通过率达到<b>85%</b>的科友开放编辑。</p><p>当您通过努力达到以上要求，就可以参与编辑该词条了。</p><p>如果您认为该词条还需进一步完善，可以到<a href="http://tousu.baidu.com/baike/add" target="_blank">投诉中心</a>反馈。</p>';var b=formatDetect_privcheck({title:"编辑提示",width:"402px",height:"181px",buttonbar:true,buttonAccept:true,buttonCancel:false,contentType:"HTMLUrl",locked:true})}else{Detect.doDetect()}})})}baidu.more.ns("bk.view");bk.view.showEditLinks=function(){function a(e){var d=baidu.dom.getAttr(e,"data-edit-id");if(d){var c=d;var b=0;d=d.split(":");if(d.length>1){c=d[0];b=d[1]}e.innerHTML=["<a href='#' class='nslog:1019' onclick='bk.view.editLemma(\"/edit/\",",c,",",b,");return false'>编辑本段</a>"].join("")}}baidu.each(baidu.q("editable-title"),a)};bk.view.showEditButton=function(){baidu.each(baidu.q("editable-lemma","content","span"),function(a){var b=baidu.dom.getAttr(a,"data-edit-id");if(b){baidu.on(a,"mouseover",function(){baidu.dom.addClass(this,"hover")});baidu.on(a,"mouseout",function(){baidu.dom.removeClass(this,"hover")});baidu.on(a,"click",function(){bk.view.editLemma("/edit/",b);nslog("edit",1020)})}})};baidu.dom.ready(bk.view.showEditLinks);baidu.dom.ready(bk.view.showEditButton);bk.view.editRelated=function(){baidu.sio.callByBrowser("/js/Dialog/Dialog.js",function(){var a="/api/editcheck?lemmaId="+baikeViewInfo.id;baidu.ajax.get(a,function(d,c){if(c=="12"){Detect.content='<center><h2>对不起，您暂时没有权限编辑该词条。</h2></center><p>您好，该词条内容已较丰富，现仅对百科等级达到<b>四级</b>，且通过率达到<b>85%</b>的科友开放编辑。</p><p>当您通过努力达到以上要求，就可以参与编辑该词条了。</p><p>如果您认为该词条还需进一步完善，可以到<a href="http://tousu.baidu.com/baike/add" target="_blank">投诉中心</a>反馈。</p>';var b=formatDetect_privcheck({title:"编辑提示",width:"402px",height:"181px",buttonbar:true,buttonAccept:true,buttonCancel:false,contentType:"HTMLUrl",locked:true})}else{var e="/relatedEdit/?id="+baikeViewInfo.id+"&title="+G("titleVal").value;g_pop=new Popup({contentType:1,isReloadOnClose:false,width:536,height:550});g_pop.setContent("title","完善相关词条");g_pop.setContent("contentUrl",e);g_pop.build();g_pop.show()}})})};bk.view.editLemma=function(d,a,b){Detect.url=d+"id="+a+(b?"&dl="+b:"");if(location.href.indexOf("fr=")!=-1){var e=location.search.split("&");var c="";baidu.each(e,function(f,g){if(f.indexOf("fr=")!=-1){c=f}});Detect.url+="&"+c}Detect.id=a;userlogin.check(Detect.detecting,false,"edit")};editLemmaPara=bk.view.editLemma;baidu.more.ns("lemma");baidu.more.ns("bk.view");bk.view.vote=function(){var a="/view/getLemmaCountAsc/lemmaid="+baikeViewInfo.id+"&random="+Math.random();baidu.sio.callByBrowser(a)};function ascUpdateData(a){if(a.length==1){if(a[0]>=0){baidu.G("vote_num").innerHTML=a[0];baidu.G("vote_txt").innerHTML="您已评价，谢谢！"}else{if(a[0]==-1){baidu.G("vote_txt").innerHTML="您已评价，谢谢！"}}}}function gotoRef(b){if(!b){return false}var d=b.innerHTML.replace(/\[/g,"").replace(/\]/g,"");var d=parseInt(d);if(d>=0){var a=baidu.G("refIndex_"+d);if(a&&a.parentNode){var c=baidu.dom.getPosition(a.parentNode).top-0;if(c>0){window.scrollTo(0,c)}}}}bk.view.showMoreRelated=function(){var b=baidu.G("word_more");var a=baidu.G("word_more_con");if(a.style.display=="none"){b.className="word_more2";a.style.display="";a.title="收起"}else{b.className="word_more1";a.style.display="none";a.title="展开"}};bk.view.coEditorInit=function(){var a=baidu.G("co-editors");if(!a){return}if(a.offsetHeight>25){baidu.show("more-coeditor");var b=a.getElementsByTagName("span");while(a.offsetHeight>25&&b.length>0){a.removeChild(b[b.length-1])}}};bk.view.relatedInit=function(){var a=baidu.G("word_more");if(!a){return false}var g=baidu.G("word_more_con").getElementsByTagName("a");var c=baidu.G("onelinespan");var b=baidu.G("onelinediv");var f=g.length;for(var d=0;d<f;d++){var e=g[d].cloneNode(true);c.appendChild(e);if(c.offsetWidth>(b.offsetWidth-60)){c.removeChild(e);a.style.visibility="visible";b.style.visibility="visible";baidu.on(a,"mouseover",function(){baidu.addClass(this.childNodes[0],"hover")});baidu.on(a,"mouseout",function(){baidu.removeClass(this.childNodes[0],"hover")});return}}b.style.visibility="visible"};bk.view.getDays=function(d){if(!d){return""}var b=d.match(/(\d{2,4})-(\d{1,2})-(\d{1,2})/);b[2]=parseInt(b[2],10)-1;var g=new Date(b[1],b[2],b[3]);var c=new Date();var e=new Date(c.getFullYear(),c.getMonth(),c.getDate()-1);var f=parseInt((g-e)/(1000*3600*24));switch(f){case 1:return"今天";case 0:return"昨天";case -1:return"2天前";case -2:return"3天前"}return d};function ctrlBKDynamic(){if(typeof bkDynamic!="undefined"){var a=bkDynamic[0];baidu.G("profileTitle").innerHTML=a;if(!!bkDynamic[1][0]){baidu.G("task").innerHTML="<dt><strong>"+bkDynamic[1][0]+'</strong>：<a href="'+bkDynamic[1][1][1]+'" target="_blank">'+bkDynamic[1][1][0]+'</a></dt> <dd><a href="'+bkDynamic[1][1][1]+'" target="_blank"><img src="'+bkDynamic[1][1][2]+'" width="160" height="81"></a></dd>';baidu.show("task")}if(!!bkDynamic[2][0]){baidu.G("notice").innerHTML="<dt><strong>"+bkDynamic[2][0]+"</strong>：</dt>"+bkDynamic[2][1];baidu.show("task")}baidu.show("bkDynamic");baidu.each(baidu.G("bkDynamic").getElementsByTagName("a"),function(c,b){baidu.on(c,"click",function(){nslog(this.href,235,{index:b})})})}}bk.view.getDynamicData=function(){baidu.sio.callByBrowser("/template/baikeDynamicData.js?random="+Math.random())};bk.view.reflow=function(){baidu.g("lemmaContent").style.zoom=1.01;baidu.g("lemmaContent").style.zoom=1};function getUserInfoAsc(){var a="/api/personalmesg?date="+new Date().getTime();baidu.ajax.get(a,function(b){showUserInfo(b)})}function showUserInfo(xhr){var json=eval("("+xhr.responseText+")");baidu.G("userPic").src=json.base.avatar;var unLen=24;if(json.base.odp){unLen-=4;baidu.G("kedoutuanPic").style.display="inline"}if(json.base.admin){unLen-=6;baidu.G("masterPic").style.display="inline"}var highVersionLink=baidu.G("highVersionLink");baidu.G("highVersionNum").innerHTML=json.base.hqVerNum;var goodVersionLink=baidu.G("goodVersionLink");baidu.G("goodVersionNum").innerHTML=json.base.goodVerNum;if(json.base.hqVerNum>0){highVersionLink.href="/uc/effort/#8"}if(json.base.goodVerNum>0){goodVersionLink.href="/uc/effort/#7"}var userTitleLink=baidu.G("userTitleLink");userTitleLink.innerHTML=json.base.username.subByte(unLen);baidu.G("userTitlePic").className="usertitle level"+json.base.level;baidu.G("userProcess").style.width=json.base.scorept+"%";if(json.hotword&&json.hotword.suc){words=json.hotword.data.words;showHotwords();baidu.G("hotWord").style.display="block"}var effortObj={notpassed:["未通过版本","/uc/effort/#3"],HQVersion:["高质量版本","/uc/effort/#8"],goodVersion:["优质版本","/uc/effort/#7"],passVersion:["已通过版本","/uc/effort"]};if(json.effort&&json.effort.suc){var data=json.effort.data;for(var i in data){var flag=true;break}if(flag){var effArr=[];for(var i in data){var len=32-effortObj[i][0].byteLength();effArr.push("<li>・");effArr.push('<a class="ef-type" href="');effArr.push(effortObj[i][1]);effArr.push('" target="_blank" onclick="nslog(this.href,242);">');effArr.push(effortObj[i][0]);effArr.push("</a><span>：</span>");effArr.push('<a href="http://baike.baidu.com/history/id=');effArr.push(data[i].versionid);effArr.push('" target="_blank">');effArr.push(data[i].title.subByte(len));effArr.push("</a>");effArr.push("</li>")}baidu.G("efforts").innerHTML=effArr.join("");baidu.G("effort").style.display="block";nslog(location.href,244);baidu.each(baidu.G("effort").getElementsByTagName("a"),function(ele){baidu.on(ele,"mousedown",function(){nslog(this.href,243)})})}}baidu.G("userInfoDiv").style.display="block";var userTip=baidu.G("userTip");var hotHelpTip=baidu.G("hotHelpTip");var startPos=58;var endPos=215;baidu.G("userTipArrow").style.left=Math.round(startPos+(endPos-startPos)*json.base.scorept/100)-4+"px";var userProcessBack=baidu.G("userProcessBack");baidu.on(userProcessBack,"mouseover",showTip(baidu.G("userTip")));baidu.on(userProcessBack,"mouseout",hideTip(baidu.G("userTip")));baidu.G("userLevel").innerHTML=json.base.level;baidu.G("totalscore").innerHTML=json.base.totalscore;baidu.G("scorediff").innerHTML=json.base.scorediff;baidu.G("nextlevel").innerHTML=json.base.nextlevel;var hotHelpE=baidu.G("hotHelp");baidu.on(hotHelpE,"mouseover",showTip(hotHelpTip));baidu.on(hotHelpE,"mouseout",hideTip(hotHelpTip))}function showHotwords(){var c=words.length||0;var n=4;var f=[];while(f.length!=4){var d=Math.round(Math.random()*(c-1));var m=false;for(var a=0;a<f.length;a++){if(f[a]==d){m=true;break}}if(m){continue}f.push(d);if(f.length==words.length){break}}var e="";var l=[];for(var a=0;a<4&&a<f.length;a++){var j=baidu.string.decodeHTML(words[f[a]].title);var h=baidu.string.decodeHTML(words[f[a]].perfectpoints);var b=baidu.string.decodeHTML(words[f[a]].reason);var g=j.subByte(10);l.push("<li>");l.push('・<a onclick="nslog(this.href,226);"  target="_blank" href="');l.push(words[f[a]].link+'"');l.push(' onmouseout="hideCompleteTip();"');l.push(' onmouseover="showCompleteTip('+a+", '"+baidu.string.encodeHTML(j).replace(/'/g,"&acute;")+"', '"+baidu.string.encodeHTML(h).replace(/'/g,"&acute;")+"');\">");l.push(baidu.string.encodeHTML(g));l.push("</a>");l.push("<span");l.push(' onmouseout="hideHotReasonTip();"');l.push(' onmouseover="showHotReasonTip('+a+",'"+baidu.string.encodeHTML(b).replace(/'/g,"&acute;")+"');\"");l.push(">：");l.push(baidu.string.encodeHTML(b.subByte(32-g.byteLength())));l.push("</span>");l.push("</li>")}baidu.G("hotWords").innerHTML=l.join("")}function showTip(a){return function(){if(timeout){clearTimeout(timeout);baidu.G("completeTip").style.display="none"}a.style.display="block"}}function hideTip(a){return function(){a.style.display="none"}}function hideHotReasonTip(){baidu.G("hotReasonTip").style.display="none"}var timeout;function hideCompleteTip(){timeout=setTimeout(function(){baidu.G("completeTip").style.display="none"},1000)}function showHotReasonTip(b,c){c=baidu.string.encodeHTML(c);if(timeout){clearTimeout(timeout);baidu.G("completeTip").style.display="none"}var a=baidu.G("hotReasonTip");baidu.G("hotReasonTipMain").innerHTML="<p>"+c+"</p>";a.style.top=54+b*20+"px";a.style.display="block"}function showCompleteTip(d,e,b){e=baidu.string.encodeHTML(e);b=baidu.string.encodeHTML(b);if(timeout){clearTimeout(timeout)}var c=baidu.G("completeTip");baidu.G("completeTipMain").innerHTML="<p>"+e+"</p><p><span>完善点：</span>"+b+"</p>";c.style.display="block";var a=c.scrollHeight;c.style.top=54+d*20-a-21+"px"}baidu.more.ns("bk.view");bk.view.adjustImage=function(b,d,e,a,c){tools.image.sizelimit(b,e,a,c);var f=baidu.g(d);setTimeout(function(){if(f){f.style.width=(b.width-20)+"px";f.parentNode.style.width=(b.width+6)+"px";f=null}},40)};bk.view.imageTitleInit=function(d){var c=d.getElementsByTagName("p")[0];var a=d.getElementsByTagName("img")[0];if(!!c){var b=c.innerHTML;if(/^\s*$/.test(b)){c.innerHTML="&nbsp;&nbsp;"}else{d.style.paddingBottom="3px";c.innerHTML=baidu.string.wbr(b)}}bk.view.picAct(d);d.style.width=a.offsetWidth+"px";d.style.visibility="visible"};bk.view.contentImageInit=function(){baidu.each(baidu.Q("text_pic",baidu.G("lemmaContent")),function(a){bk.view.imageTitleInit(a)})};bk.view.lemmapic=function(){var a=baidu.q("pic","content","div");baidu.each(a,function(b){bk.view.picAct(b)})};bk.view.picAct=function(b){b.style.position="relative";var a=b.getElementsByTagName("a")[0];if(a&&a.href.match(/\/image\//)){var c=document.createElement("a");baidu.dom.addClass(c,"pic-handle");c.title="查看图片";c.href=a.href;c.innerHTML="&nbsp;&nbsp;";c.target="_blank";baidu.dom.insertBefore(c,a);baidu.on(b,"mouseover",function(){baidu.dom.addClass(b,"pic-hover")});baidu.on(b,"mouseout",function(){baidu.dom.removeClass(b,"pic-hover")});baidu.on(c,"mouseover",function(){baidu.dom.addClass(b,"pic-hover")})}a=null;c=null};baidu.dom.ready(bk.view.lemmapic);baidu.on(window,"load",bk.view.contentImageInit);baidu.dom.ready(function(){baidu.dom.ready(bk.userbar.check);baidu.ajax.get("/api/lemmacnt/"+baikeViewInfo.id,function(xhr){var result=eval("("+xhr.responseText+")");if(result){baidu.G("viewPV").innerHTML=result.pv;baidu.G("vote_num").innerHTML=result.rec;if(result.dynamic){bk.view.getDynamicData()}}});(function(){var vote_btn=baidu.G("vote_btn");baidu.on(vote_btn,"mouseover",function(){this.className="text_vote2"});baidu.on(vote_btn,"mouseout",function(){this.className="text_vote1";baidu.G("vote_txt").innerHTML="本词条对我有帮助"});baidu.on(vote_btn,"click",function(){baidu.sio.callByBrowser("/view/recommendLemma/lemmaid="+baikeViewInfo.id+"&random="+Math.random())});vote_btn=null})();baidu.each(document.getElementsByTagName("img"),function(img,index){if(img.className=="editorImg"){baidu.on(img,"mousedown",function(){nslog(this.src,8)})}});baidu.each(baidu.G("lemmaContent").getElementsByTagName("a"),function(ele,index){if(/\/view\/\d+/.test(ele.href)){baidu.on(ele,"mousedown",function(){nslog(this.href,12)})}});bk.view.relatedInit();bk.view.coEditorInit();(function(){var _hash=location.hash;if(_hash){setTimeout(function(){window.location.hash=_hash.slice(1)},1000)}var modifytime=baidu.G("lastModifyTime");modifytime.innerHTML=bk.view.getDays(baidu.trim(modifytime.innerHTML))})();baidu.on(baidu.g("gotop"),"click",function(e){baidu.event.preventDefault(e);nslog(location.href,1028);window.scrollTo(0,0)})});